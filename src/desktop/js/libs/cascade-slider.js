!function(a){a.fn.cascadeSlider=function(b){function c(a){d.find(".now").removeClass("now"),d.find(".next").removeClass("next"),d.find(".prev").removeClass("prev"),a==i-1&&g.eq(0).addClass("next"),0==a&&g.eq(i-1).addClass("prev"),g.each(function(b){b==a&&g.eq(b).addClass("now"),b==a+1&&g.eq(b).addClass("next"),b==a-1&&g.eq(b).addClass("prev")})}var d=this,e=b.itemClass||"cascade-slider_item",f=b.arrowClass||"cascade-slider_arrow",g=d.find("."+e),h=d.find("."+f),i=g.length,j=0;c(j),h.on("click",function(){var b=a(this).data("action"),e=g.index(d.find(".now"));"next"==b?c(e==i-1?0:e+1):"prev"==b&&c(0==e?i-1:e-1),a(".cascade-slider_dot").removeClass("cur"),a(".cascade-slider_dot:nth-child("+(parseInt(a(".cascade-slider_item.now").attr("data-slide-number"))+1)+")").addClass("cur")});for(var k=0;k<i;k++)a(".cascade-slider_item").each(function(b){a(this).attr("data-slide-number",[b])});a(".cascade-slider_dot").bind("click",function(){a(".cascade-slider_dot").removeClass("cur"),a(this).addClass("cur");var b=a(this).index();a(".cascade-slider_item").removeClass("now prev next");var c=a(".cascade-slider_slides").find("[data-slide-number="+b+"]");c.prev().addClass("prev"),c.addClass("now"),c.next().addClass("next"),0==c.next().length&&a(".cascade-slider_item:first-child").addClass("next"),0==c.prev().length&&a(".cascade-slider_item:last-child").addClass("prev")})}}(jQuery);